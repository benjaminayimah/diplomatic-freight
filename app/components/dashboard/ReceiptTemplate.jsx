import React from 'react'
import { useFormatter } from '@/hooks/useFormatter'


function ReceiptTemplate({ profile, receipt, printRef }) {

  const VAT = receipt?.vat || 0;
  const vat = Number(VAT) / 100 || 0;

  const getReceiptTotals = (items, vatRate = vat) => {
    const subtotal = items?.reduce((sum, i) => sum + Number(i.amount || 0), 0);
    const vat = subtotal * vatRate;
    const total = subtotal + vat;

    return {
      subtotalFormatted: subtotal?.toLocaleString("en-US", { style: "currency", currency: "USD" }),
      vatFormatted: vat.toLocaleString("en-US", { style: "currency", currency: "USD" }),
      totalFormatted: total.toLocaleString("en-US", { style: "currency", currency: "USD" }),
    };
  };

  const { dateFormat } = useFormatter()

  return (
    <div className='px-4 py-4 md:py-12 bg-gray-50 rounded-xl border border-gray-100 mb-40 flex justify-center'>
      <div className='shadow-sm rounded-xl overflow-hidden max-w-[900px] w-full'>
        <article ref={printRef} className='bg-white relative'>
          <main className="p-6 sm:p-10">
            {/* <!-- Receipt Header --> */}
            <div className="flex flex-wrap justify-between gap-6 pb-5">
              <div className="flex flex-col">
                <p className=" text-black text-4xl font-black leading-tight tracking-[-0.033em]">
                  <svg width="201.175" height="45" viewBox="0 0 201.175 45">
                    <g transform="translate(-1979 721)">
                      <path id="name" d="M122.776,30.97a2.426,2.426,0,0,1-.814-.588,2.274,2.274,0,0,1-.479-.83l.691-.282a1.9,1.9,0,0,0,.649.894,1.746,1.746,0,0,0,1.024.306,1.606,1.606,0,0,0,.625-.112.948.948,0,0,0,.414-.314.79.79,0,0,0,.156-.483.8.8,0,0,0-.221-.6,1.3,1.3,0,0,0-.625-.338l-1.113-.337a2,2,0,0,1-1.007-.636,1.548,1.548,0,0,1-.349-1,1.577,1.577,0,0,1,.235-.862,1.656,1.656,0,0,1,.666-.588,2.134,2.134,0,0,1,.976-.217,2.412,2.412,0,0,1,.983.193,2.239,2.239,0,0,1,.755.524,2,2,0,0,1,.454.741l-.681.282a1.551,1.551,0,0,0-.585-.765,1.59,1.59,0,0,0-.918-.266,1.4,1.4,0,0,0-.576.113.846.846,0,0,0-.382.314.873.873,0,0,0-.13.483.9.9,0,0,0,.211.588,1.323,1.323,0,0,0,.643.394l1.014.3a2.344,2.344,0,0,1,1.08.62,1.43,1.43,0,0,1,.366,1,1.5,1.5,0,0,1-.26.869,1.722,1.722,0,0,1-.706.6,2.43,2.43,0,0,1-1.04.209A2.6,2.6,0,0,1,122.776,30.97ZM112.1,30.954a2.877,2.877,0,0,1-1.559-1.634,3.589,3.589,0,0,1,0-2.472,2.967,2.967,0,0,1,.617-.982,2.715,2.715,0,0,1,.941-.644,2.977,2.977,0,0,1,1.186-.233,2.767,2.767,0,0,1,1.121.217,2.642,2.642,0,0,1,.844.563,2.048,2.048,0,0,1,.5.741l-.731.33a1.823,1.823,0,0,0-1.73-1.119,2.142,2.142,0,0,0-1.129.3,2.054,2.054,0,0,0-.763.829,2.895,2.895,0,0,0,0,2.472,2.054,2.054,0,0,0,.763.829,2.142,2.142,0,0,0,1.129.3,1.792,1.792,0,0,0,1.73-1.119l.731.329a2.044,2.044,0,0,1-.5.742,2.642,2.642,0,0,1-.844.563,2.767,2.767,0,0,1-1.121.217A3.07,3.07,0,0,1,112.1,30.954Zm-23.5.016a2.428,2.428,0,0,1-.812-.588,2.264,2.264,0,0,1-.48-.83l.69-.282a1.912,1.912,0,0,0,.651.894,1.737,1.737,0,0,0,1.022.306,1.61,1.61,0,0,0,.626-.112.961.961,0,0,0,.415-.314.882.882,0,0,0-.065-1.079,1.316,1.316,0,0,0-.626-.338l-1.113-.337a2,2,0,0,1-1.006-.636,1.548,1.548,0,0,1-.349-1,1.578,1.578,0,0,1,.236-.862,1.638,1.638,0,0,1,.666-.588,2.129,2.129,0,0,1,.974-.217,2.409,2.409,0,0,1,.983.193,2.213,2.213,0,0,1,.755.524,2.013,2.013,0,0,1,.455.741l-.682.282a1.545,1.545,0,0,0-.585-.765,1.59,1.59,0,0,0-.918-.266,1.405,1.405,0,0,0-.576.113.843.843,0,0,0-.382.314.866.866,0,0,0-.131.483.9.9,0,0,0,.212.588,1.316,1.316,0,0,0,.642.394l1.015.3a2.339,2.339,0,0,1,1.08.62,1.429,1.429,0,0,1,.365,1,1.5,1.5,0,0,1-.259.869,1.713,1.713,0,0,1-.707.6,2.426,2.426,0,0,1-1.039.209A2.611,2.611,0,0,1,88.6,30.97Zm-6.655,0a2.419,2.419,0,0,1-.812-.588,2.251,2.251,0,0,1-.48-.83l.69-.282a1.9,1.9,0,0,0,.65.894,1.742,1.742,0,0,0,1.023.306,1.613,1.613,0,0,0,.626-.112.958.958,0,0,0,.414-.314.789.789,0,0,0,.155-.483.8.8,0,0,0-.22-.6,1.308,1.308,0,0,0-.625-.338l-1.112-.337a1.992,1.992,0,0,1-1.007-.636,1.549,1.549,0,0,1-.35-1,1.571,1.571,0,0,1,.237-.862A1.633,1.633,0,0,1,81.8,25.2a2.13,2.13,0,0,1,.975-.217,2.411,2.411,0,0,1,.982.193,2.243,2.243,0,0,1,.756.524,2.008,2.008,0,0,1,.454.741l-.681.282a1.551,1.551,0,0,0-.585-.765,1.585,1.585,0,0,0-.917-.266,1.4,1.4,0,0,0-.577.113.851.851,0,0,0-.382.314.881.881,0,0,0-.13.483.909.909,0,0,0,.211.588,1.323,1.323,0,0,0,.643.394l1.014.3a2.347,2.347,0,0,1,1.081.62,1.433,1.433,0,0,1,.365,1,1.5,1.5,0,0,1-.26.869,1.719,1.719,0,0,1-.706.6,2.431,2.431,0,0,1-1.04.209A2.607,2.607,0,0,1,81.943,30.97Zm-5.753-.016a2.937,2.937,0,0,1-.942-.653,2.982,2.982,0,0,1-.617-.982,3.589,3.589,0,0,1,0-2.472,2.982,2.982,0,0,1,.617-.982,2.71,2.71,0,0,1,.942-.644,2.973,2.973,0,0,1,1.185-.233A2.764,2.764,0,0,1,78.5,25.2a2.656,2.656,0,0,1,.845.563,2.06,2.06,0,0,1,.5.741l-.731.33a1.826,1.826,0,0,0-1.731-1.119,2.144,2.144,0,0,0-1.129.3,2.066,2.066,0,0,0-.763.829,2.895,2.895,0,0,0,0,2.472,2.066,2.066,0,0,0,.763.829,2.144,2.144,0,0,0,1.129.3,1.795,1.795,0,0,0,1.731-1.119l.731.329a2.055,2.055,0,0,1-.5.742,2.656,2.656,0,0,1-.845.563,2.764,2.764,0,0,1-1.121.217A3.066,3.066,0,0,1,76.19,30.954Zm-12.212.016a2.426,2.426,0,0,1-.814-.588,2.274,2.274,0,0,1-.479-.83l.691-.282a1.9,1.9,0,0,0,.649.894,1.745,1.745,0,0,0,1.024.306,1.612,1.612,0,0,0,.625-.112.953.953,0,0,0,.414-.314.789.789,0,0,0,.155-.483.8.8,0,0,0-.22-.6,1.309,1.309,0,0,0-.625-.338l-1.113-.337a2,2,0,0,1-1.007-.636,1.548,1.548,0,0,1-.349-1,1.577,1.577,0,0,1,.235-.862,1.65,1.65,0,0,1,.666-.588,2.134,2.134,0,0,1,.976-.217,2.418,2.418,0,0,1,.983.193,2.24,2.24,0,0,1,.755.524,2,2,0,0,1,.454.741l-.681.282a1.556,1.556,0,0,0-.585-.765,1.59,1.59,0,0,0-.918-.266,1.4,1.4,0,0,0-.576.113.841.841,0,0,0-.383.314.866.866,0,0,0-.13.483.9.9,0,0,0,.211.588,1.324,1.324,0,0,0,.642.394l1.015.3a2.344,2.344,0,0,1,1.08.62,1.43,1.43,0,0,1,.366,1,1.5,1.5,0,0,1-.26.869,1.719,1.719,0,0,1-.707.6,2.423,2.423,0,0,1-1.039.209A2.6,2.6,0,0,1,63.978,30.97Zm-8.2-.016a2.824,2.824,0,0,1-.942-.653,3.108,3.108,0,0,1-.625-.982,3.589,3.589,0,0,1,0-2.472,2.982,2.982,0,0,1,.617-.982,2.727,2.727,0,0,1,.942-.644,2.974,2.974,0,0,1,1.186-.233,2.762,2.762,0,0,1,1.12.217,2.632,2.632,0,0,1,.844.563,2.063,2.063,0,0,1,.5.741l-.715.347a1.794,1.794,0,0,0-.658-.829,1.879,1.879,0,0,0-1.088-.306,2.145,2.145,0,0,0-1.13.3,2.06,2.06,0,0,0-.763.829,2.9,2.9,0,0,0,0,2.472,2.124,2.124,0,0,0,.771.829,2.145,2.145,0,0,0,1.129.3,2.123,2.123,0,0,0,1-.233,1.808,1.808,0,0,0,.706-.644,1.727,1.727,0,0,0,.26-.95v-.031H56.96V27.9h2.777v.532a2.839,2.839,0,0,1-.219,1.135,2.585,2.585,0,0,1-.6.869,2.716,2.716,0,0,1-.885.548,2.949,2.949,0,0,1-1.064.193A3.067,3.067,0,0,1,55.782,30.954Zm-7.049,0a3.032,3.032,0,0,1-.983-.653,3.067,3.067,0,0,1-.651-.982,3.234,3.234,0,0,1-.235-1.24,3.2,3.2,0,0,1,.235-1.24,3.067,3.067,0,0,1,.651-.982,2.952,2.952,0,0,1,.974-.644,3.211,3.211,0,0,1,1.21-.225,3.057,3.057,0,0,1,1.2.233,2.862,2.862,0,0,1,.974.644,2.9,2.9,0,0,1,.658.974,3.087,3.087,0,0,1,.244,1.24,3.124,3.124,0,0,1-.244,1.24,3.036,3.036,0,0,1-1.632,1.634,3.153,3.153,0,0,1-1.2.225A3.184,3.184,0,0,1,48.733,30.954Zm.292-5.048a2.133,2.133,0,0,0-.723.507,2.39,2.39,0,0,0-.471.749,2.438,2.438,0,0,0-.171.918,2.467,2.467,0,0,0,.642,1.683,2.344,2.344,0,0,0,2.55.507,2.186,2.186,0,0,0,.715-.507,2.284,2.284,0,0,0,.471-.757,2.5,2.5,0,0,0,.171-.926,2.438,2.438,0,0,0-.171-.918,2.2,2.2,0,0,0-.471-.749,2.038,2.038,0,0,0-.715-.507,2.343,2.343,0,0,0-1.827,0ZM36.01,30.994a1.532,1.532,0,0,1-.625-.54,1.506,1.506,0,0,1-.22-.813,1.558,1.558,0,0,1,.146-.693,1.979,1.979,0,0,1,.357-.523,2.888,2.888,0,0,1,.439-.363q.138-.093.247-.163-.116-.129-.231-.272a2.653,2.653,0,0,1-.333-.531,1.606,1.606,0,0,1-.131-.653,1.394,1.394,0,0,1,.2-.757,1.49,1.49,0,0,1,.553-.516,1.555,1.555,0,0,1,.755-.184,1.5,1.5,0,0,1,.739.184,1.4,1.4,0,0,1,.544.5,1.471,1.471,0,0,1,0,1.49,2.224,2.224,0,0,1-.488.54,5.149,5.149,0,0,1-.457.315l1.066,1.133.7-1.03h.868L39.1,29.7l1.3,1.379h-1l-.734-.767a3.179,3.179,0,0,1-.362.364,2.228,2.228,0,0,1-.592.362,2.059,2.059,0,0,1-.788.137A2.137,2.137,0,0,1,36.01,30.994Zm.536-2.352a1.68,1.68,0,0,0-.39.411.975.975,0,0,0-.163.572.789.789,0,0,0,.26.628,1.036,1.036,0,0,0,.69.225,1.242,1.242,0,0,0,.48-.088,1.337,1.337,0,0,0,.374-.234,2.1,2.1,0,0,0,.3-.314l.048-.066-1.3-1.355Q36.7,28.52,36.546,28.642Zm.1-2.761a.718.718,0,0,0-.211.531.939.939,0,0,0,.105.427,2.307,2.307,0,0,0,.26.4q.115.138.231.263c.127-.077.25-.16.37-.248a1.6,1.6,0,0,0,.365-.37.849.849,0,0,0,.146-.483.708.708,0,0,0-.211-.523.77.77,0,0,0-1.057,0ZM18.678,30.954a2.815,2.815,0,0,1-.942-.653,3.077,3.077,0,0,1-.626-.982,3.589,3.589,0,0,1,0-2.472,2.967,2.967,0,0,1,.617-.982,2.71,2.71,0,0,1,.942-.644,2.973,2.973,0,0,1,1.185-.233,2.767,2.767,0,0,1,1.121.217,2.642,2.642,0,0,1,.844.563,2.063,2.063,0,0,1,.5.741l-.715.347a1.789,1.789,0,0,0-.658-.829,1.875,1.875,0,0,0-1.088-.306,2.144,2.144,0,0,0-1.129.3,2.068,2.068,0,0,0-.764.829,2.912,2.912,0,0,0,0,2.472,2.192,2.192,0,0,0,2.9.894,1.81,1.81,0,0,0,.706-.644,1.735,1.735,0,0,0,.26-.95v-.031H19.855V27.9h2.778v.532a2.839,2.839,0,0,1-.22,1.135,2.611,2.611,0,0,1-.6.869,2.729,2.729,0,0,1-.886.548,2.946,2.946,0,0,1-1.064.193A3.066,3.066,0,0,1,18.678,30.954Zm117.835.129v-6h1.982a3.3,3.3,0,0,1,1.6.371,2.588,2.588,0,0,1,1.056,1.047,3.511,3.511,0,0,1,0,3.155,2.64,2.64,0,0,1-1.056,1.055,3.3,3.3,0,0,1-1.6.371Zm.8-.725H138.5a2.288,2.288,0,0,0,1.162-.282,1.925,1.925,0,0,0,.763-.789,2.578,2.578,0,0,0,.268-1.208,2.486,2.486,0,0,0-.276-1.208,1.873,1.873,0,0,0-.763-.781,2.271,2.271,0,0,0-1.154-.282h-1.193Zm-3.983.725V25.808h-1.641v-.725h4.061v.725H134.13v5.274Zm-4.919,0v-6h.8v5.274h2.656v.725Zm-11.579,0v-6h3.938v.725h-3.143v1.9h2.98v.725h-2.98v1.924h3.143v.725Zm-8.471,0v-6h.8v6Zm-3.819,0-2.184-6h.852l1.767,5.031,1.767-5.031h.853l-2.177,6Zm-3.352,0-1.3-2.3H98.547v2.3h-.8v-6h2.137a2.349,2.349,0,0,1,1.056.226,1.658,1.658,0,0,1,.706.643,1.813,1.813,0,0,1,.26.983,1.729,1.729,0,0,1-1.2,1.715l1.4,2.432Zm-2.639-3.02h1.364a1.364,1.364,0,0,0,.626-.137.978.978,0,0,0,.414-.394,1.141,1.141,0,0,0,.154-.6,1.112,1.112,0,0,0-.154-.6.985.985,0,0,0-.414-.4,1.364,1.364,0,0,0-.626-.137H98.547Zm-5.722,3.02v-6h3.939v.725H93.621v1.9H96.6v.725H93.621v1.924h3.144v.725Zm-20.376,0v-6h.8v6Zm-3.188,0V25.808H67.62v-.725h4.062v.725H70.065v5.274Zm-8.448,0v-6h.8v6Zm-17.958,0v-6h.8v5.274h2.656v.725Zm-12.118,0V25.808H29.1v-.725h4.061v.725H31.541v5.274Zm-3.2,0v-2.6H24.5v2.6h-.8v-6h.8v2.673h3.029V25.084h.8v6Zm-12.606,0v-6h.8v6Zm-4.926,0v-6h3.939v.725H10.8v1.9h2.981v.725H10.8v1.924h3.143v.725Zm-1.831,0-1.3-2.3H5.531v2.3h-.8v-6H6.872a2.349,2.349,0,0,1,1.056.226,1.666,1.666,0,0,1,.707.643,1.821,1.821,0,0,1,.26.983,1.77,1.77,0,0,1-.325,1.078,1.793,1.793,0,0,1-.878.636L9.1,31.082Zm-2.64-3.02H6.9a1.363,1.363,0,0,0,.626-.137.973.973,0,0,0,.414-.394,1.141,1.141,0,0,0,.155-.6,1.112,1.112,0,0,0-.155-.6.98.98,0,0,0-.414-.4,1.363,1.363,0,0,0-.626-.137H5.531ZM0,31.082v-6H3.834v.725H.8v1.94H3.55v.725H.8v2.609Zm130.106-13a8.926,8.926,0,0,1-2.9-1.98,9.281,9.281,0,0,1-1.952-2.982,9.993,9.993,0,0,1-.683-3.74,9.993,9.993,0,0,1,.683-3.739,8.78,8.78,0,0,1,4.83-4.937A9.345,9.345,0,0,1,133.741,0a9,9,0,0,1,3.538.66,8.173,8.173,0,0,1,2.684,1.76,6.383,6.383,0,0,1,1.562,2.444l-3.343,1.614a4.625,4.625,0,0,0-4.441-3.056,5.253,5.253,0,0,0-2.83.758,5.167,5.167,0,0,0-1.9,2.1,6.857,6.857,0,0,0-.659,3.1,7.018,7.018,0,0,0,.659,3.128,5.173,5.173,0,0,0,1.9,2.1,5.253,5.253,0,0,0,2.83.758,4.558,4.558,0,0,0,2.806-.856,4.631,4.631,0,0,0,1.635-2.2l3.343,1.613a6.386,6.386,0,0,1-1.562,2.444,8.156,8.156,0,0,1-2.684,1.76,9,9,0,0,1-3.538.661A9.274,9.274,0,0,1,130.106,18.087Zm-74.96,0a9.48,9.48,0,0,1-3.074-1.98A9.5,9.5,0,0,1,50.046,13.1a9.338,9.338,0,0,1-.733-3.715,9.626,9.626,0,0,1,.708-3.715,9.217,9.217,0,0,1,2.025-2.983A9.5,9.5,0,0,1,55.122.709a10.7,10.7,0,0,1,7.661,0,9.23,9.23,0,0,1,3.05,1.979,8.76,8.76,0,0,1,2.025,2.983,9.346,9.346,0,0,1,.732,3.715,9.254,9.254,0,0,1-2.781,6.721,9.227,9.227,0,0,1-3.05,1.98,10.57,10.57,0,0,1-7.613,0ZM56.634,3.862A5.4,5.4,0,0,0,54.78,5.084,5.591,5.591,0,0,0,53.536,6.99a6.29,6.29,0,0,0-.439,2.4,6.472,6.472,0,0,0,.439,2.419,5.6,5.6,0,0,0,1.245,1.907,5.928,5.928,0,0,0,1.854,1.222,6.051,6.051,0,0,0,2.318.44,5.95,5.95,0,0,0,4.173-1.662,5.628,5.628,0,0,0,1.244-1.907,6.454,6.454,0,0,0,.439-2.419,6.273,6.273,0,0,0-.439-2.4,5.615,5.615,0,0,0-1.244-1.906,5.353,5.353,0,0,0-1.879-1.222,5.875,5.875,0,0,0-2.294-.44A6.051,6.051,0,0,0,56.634,3.862ZM119.473,18.5V5.157h3.659V18.5Zm-8.95,0V3.593h-4.611V.293h12.932v3.3h-4.539V18.5Zm-7.089,0-1.22-3.715H95.553L94.333,18.5h-4.1L96.382.293h5.026l6.149,18.21ZM96.6,11.488h4.561L98.893,4.463ZM85.546,18.5V6.769l-5.49,7.09h-.488l-5.49-7.346V18.5H70.3V.293h3.659L79.9,8.186,85.668.293h3.659V18.5Zm-47.586,0V.293h3.782V15.2h7.686v3.3Zm-14.869,0V.293h6.978a7.881,7.881,0,0,1,3.318.66,5.185,5.185,0,0,1,2.294,1.956,5.823,5.823,0,0,1,.829,3.2,5.606,5.606,0,0,1-.853,3.153,5.341,5.341,0,0,1-2.294,1.98,7.819,7.819,0,0,1-3.294.66h-3.2v6.6Zm3.782-9.9h3.22a2.88,2.88,0,0,0,1.391-.318,2.249,2.249,0,0,0,.9-.88,2.443,2.443,0,0,0,.341-1.3,2.491,2.491,0,0,0-.341-1.32,2.249,2.249,0,0,0-.9-.88,2.88,2.88,0,0,0-1.391-.318h-3.22Zm-9.812,9.9V.293h3.782V18.5ZM0,18.5V.293H5.929a10.623,10.623,0,0,1,5.124,1.173A8.464,8.464,0,0,1,14.42,4.693a9.151,9.151,0,0,1,1.2,4.693,9.282,9.282,0,0,1-1.2,4.717,8.452,8.452,0,0,1-3.367,3.226A10.623,10.623,0,0,1,5.929,18.5Zm3.782-3.3H6.026A6.3,6.3,0,0,0,9.1,14.495a5.1,5.1,0,0,0,2-2.029,6.243,6.243,0,0,0,.733-3.08,6.152,6.152,0,0,0-.733-3.08,4.938,4.938,0,0,0-2-2,6.3,6.3,0,0,0-3.074-.709H3.782ZM119.473,3.593V.293h3.659v.915l-1.539,1.343-1.207,1.041Z" transform="translate(2038.65 -714.587)"/>
                      <g id="icon">
                        <path d="M26.715,0a24.2,24.2,0,0,1,22.3,14.786l-3.6.545A20.726,20.726,0,0,0,30.7,3.886,36.1,36.1,0,0,1,36.5,16.68l-3.477.526A32.587,32.587,0,0,0,26.715,4.439a32.59,32.59,0,0,0-7.14,18.006h14.28q-.034-.445-.08-.888l1.487,1.223h0l0,0,.011.009.047.039.179.149c.153.127.366.306.605.508.274.232.566.484.837.721-.926.828-1.994,1.742-3.176,2.693q.05-.475.087-.952H19.576a32.585,32.585,0,0,0,1.893,8.737A34.11,34.11,0,0,1,18.2,35.96a36.083,36.083,0,0,1-2.141-10.011H6.1a20.6,20.6,0,0,0,4.483,11.2q-.618-.03-1.224-.108A6.783,6.783,0,0,1,4.48,33.756,24.21,24.21,0,0,1,26.715,0Zm-3.98,3.886A20.705,20.705,0,0,0,6.1,22.445h9.968A36.093,36.093,0,0,1,22.735,3.886Z" transform="translate(1979 -721)" fillRule="evenodd"/>
                        <path d="M8.9,40.518A10.5,10.5,0,0,1,.211,32.393c-.7,3.495-.32,11.458,11.555,12.494,15.031,1.311,29.023-9,35.106-15.464,0,0,.823,1.142,1.387,2.009s1.39,2.359,1.39,2.359l4-16.163L37.488,20.074s1.55,1.275,2.43,2.1,2.088,2.1,2.088,2.1C37.488,28.724,22.368,42.277,8.9,40.518Z" transform="translate(1979 -721)" fill="#0077FF"/>
                      </g>
                    </g>
                  </svg>
                </p>
                <div className=" text-black text-sm mt-4">
                  <p className="font-bold">{profile?.company_name}</p>
                  <p>{profile?.address_line_1}</p>
                  <p>{profile?.address_line_2}</p>
                  <p>{profile?.address_line_3}</p>
                </div>
              </div>
              <div>
                <div className='text-4xl text-[#0077FF] flex md:justify-end'>
                  <p>RECEIPT</p>
                </div>
                <div className="grid grid-cols-2 gap-x-8 gap-y-2 text-sm w-full sm:w-auto mt-4">
                  <div className="flex flex-col gap-1">
                    <p className="text-gray-500">Receipt Number</p>
                    <p className=" text-neutral-800 font-medium">{receipt?.receipt_number || 'SAMPLE-1234'}</p>
                  </div>
                  <div className="flex flex-col gap-1">
                    <p className="text-gray-500">Payment Method</p>
                    <p className=" text-neutral-800 font-medium uppercase">
                      { receipt?.payment_method.replace("_", " ") || "N/A" }
                    </p>
                  </div>
                  <div className="flex flex-col gap-1">
                    <p className="text-gray-500">Paid on</p>
                    <p className=" text-neutral-800 font-medium">
                      { receipt?.paid_on ? dateFormat(receipt.paid_on ) : "N/A" }
                    </p>
                  </div>
                  <div className="flex flex-col gap-1">
                    <p className="text-gray-500">Status</p>
                    <p className=" text-neutral-800 font-medium">
                      <span className="inline-flex items-center rounded-full bg-green-100  px-3 py-1 text-xs font-semibold text-green-700 ring-1 ring-inset ring-green-600/20">Paid</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            {/* <div className='border border-gray-100 p-5 rounded-xl'>
            </div> */}
            {/* <!-- Bill To Section border-t-2 border-[#0A47C9]--> */}
            <div className="mb-4">
              <h2 className=" text-black text-base font-bold leading-tight tracking-[-0.015em] pb-3">Billed To</h2>
              <div className="p-4 bg-white border border-gray-200 rounded-lg">
                <p className=" text-neutral-800 text-base font-normal leading-normal">
                  <span className="font-bold">{receipt?.name || 'Name: N/A'}</span>
                  <br/>
                  {receipt?.address || 'Address: N/A'}
                  <br/>
                  {receipt?.email || 'Email: N/A'}
                  <br/>
                  {receipt?.phone || 'Phone: N/A'}
                </p>
              </div>
            </div>
            {/* <!-- Itemized Services Table --> */}
            <div>
              <h2 className=" text-black text-base font-bold leading-tight tracking-[-0.015em] py-3">Service Breakdown</h2>
              <div className="overflow-x-auto">
                <table className="w-full text-left text-sm">
                  <thead className="bg-blue-500 border text-white uppercase tracking-wider">
                    <tr>
                      <th className="px-4 py-2 font-bold text-xs">Service Description</th>
                      <th className="px-4 py-2 font-bold text-xs">Quantity</th>
                      <th className="px-4 py-2 font-bold text-xs">Rate</th>
                      <th className="px-4 py-2 font-bold text-xs">Add-on</th>
                      <th className="px-4 py-2 font-bold text-right text-xs">Amount</th>
                    </tr>
                  </thead>
                  <tbody className=" text-neutral-800">
                    {/* <!-- Items begins here--> */}

                    {Array.isArray(receipt?.items) && receipt.items.length > 0 ? (
                      receipt.items.map((item, i) => (
                        <tr key={i} className="border-b border-gray-200">
                          <td className="p-4">{item?.description || 'N/A'}</td>
                          <td className="p-4">{item?.quantity}</td>
                          <td className="p-4">{Number(item?.rate || 0).toLocaleString("en-US", { style: "currency", currency: "USD" })}</td>
                          <td className="p-4">{Number(item?.extra_charges || 0).toLocaleString("en-US",{ style: "currency", currency: "USD"})}</td>
                          <td className="p-4 text-right">
                            {Number(item?.amount || 0).toLocaleString("en-US",{ style: "currency", currency: "USD"})}
                          </td>
                        </tr>
                      ))
                    ) : (
                      <tr>
                        <td colSpan={5} className="text-center p-4 text-gray-600">
                          No items found
                        </td>
                      </tr>
                    )}
                  </tbody>
                </table>
              </div>
            </div>
            {/* <!-- Totals & Summary --> */}
            <div className="flex md:justify-end mt-8">
              <div className="w-full md:max-w-sm space-y-4 text-neutral-800">
                <div className="flex justify-between">
                  <span className='font-semibold'>Subtotal</span>
                  <span className='font-medium'>
                    {getReceiptTotals(receipt?.items)?.subtotalFormatted}
                  </span>
                </div>
                <div className="flex justify-between">
                  {/* {process.env.NEXT_PUBLIC_API_URL} */}
                  <span className='font-semibold'>VAT ({VAT}%)</span>
                  <span className='font-medium'>{getReceiptTotals(receipt?.items).vatFormatted}</span>
                </div>
                <div className="flex justify-between border-t pt-4 border-gray-200  text-black text-base font-bold">
                  <span>Total Amount</span>
                  <span>
                    {getReceiptTotals(receipt?.items).totalFormatted}
                  </span>
                </div>
              </div>
            </div>
            {/* <!-- Payment Information --> */}
            
          </main>
          <div id='watermark' className='absolute top-120 left-[50%] -translate-x-1/2'>
            <svg xmlns="http://www.w3.org/2000/svg" width="263.043" height="220.635" viewBox="0 0 263.043 220.635">
              <path id="Path_2926" data-name="Path 2926" d="M-2519.777,1211.078c-58.223-5.076-60.063-44.121-56.655-61.254,2.272,12.422,15.218,36.26,42.6,39.836,66.034,8.622,140.165-57.828,162.318-79.674,0,0-5.922-6.25-10.239-10.28s-11.914-10.281-11.914-10.281l79.242-11.994-19.611,79.246s-4.051-7.31-6.818-11.566-6.8-9.852-6.8-9.852c-28.078,29.839-90.509,76.379-159.211,76.377Q-2513.284,1211.636-2519.777,1211.078Zm-11.825-38.454c-11.642-1.521-19.507-8.98-23.9-16.121a118.226,118.226,0,0,1-9.618-46.866A118.637,118.637,0,0,1-2446.479,991a118.673,118.673,0,0,1,109.331,72.493l-17.633,2.67a101.615,101.615,0,0,0-72.183-56.109,176.975,176.975,0,0,1,28.463,62.726l-17.046,2.579a159.763,159.763,0,0,0-30.932-62.593,159.8,159.8,0,0,0-35.006,88.282h70.012q-.165-2.182-.391-4.355l7.29,6h0l.013.01.056.047.231.19.878.729c.75.624,1.8,1.5,2.968,2.492,1.343,1.138,2.777,2.372,4.1,3.536-4.541,4.057-9.777,8.542-15.572,13.2q.245-2.33.423-4.669h-70.012a159.781,159.781,0,0,0,9.283,42.837,167.183,167.183,0,0,1-16.006,6.245,176.925,176.925,0,0,1-10.5-49.082h-48.871a100.979,100.979,0,0,0,21.98,54.925C-2527.618,1173.056-2529.62,1172.884-2531.6,1172.625Zm-15.977-71.575h48.871a176.949,176.949,0,0,1,32.716-90.994A101.515,101.515,0,0,0-2547.579,1101.049Z" transform="translate(2577.465 -991.001)" fill="rgba(57,108,240,0.04)"/>
            </svg>
          </div>
          {/* <!-- Footer --> */}
          <footer className="grid grid-cols-1 text-center p-6 sm:p-10 mt-auto border-t border-gray-200 text-gray-500 text-xs">
            <p className="font-bold text-blue-500 text-base mb-2">Thank you for your business!</p>
            <p className='my-6 text-black'>For any questions, please contact us using any of the details below.</p>
            <p className='flex flex-wrap gap-2 items-center justify-center'>
              { profile?.po_box }
              <span className='inline-block h-3 w-px border-r border-gray-400' />
              { profile?.phone }
              <span className='inline-block h-3 w-px border-r border-gray-400' />
              { profile?.mobile }
              <span className='inline-block h-3 w-px border-r border-gray-400' />
              { profile?.email }
              <span className='inline-block h-3 w-px border-r border-gray-400' />
              { profile?.website }
              <span className='inline-block h-3 w-px border-r border-gray-400' />
              { profile?.company_name + ' All rights reserved.' }
            </p>
          </footer>
        </article>
      </div>
    </div>
  )
}

export default ReceiptTemplate